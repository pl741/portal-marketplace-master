<!--  
===============LICENSE_START=======================================================
Acumos  Apache-2.0
===================================================================================
Copyright (C) 2017 AT&T Intellectual Property & Tech Mahindra. All rights reserved.
===================================================================================
This Acumos software file is distributed by AT&T and Tech Mahindra
under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
This file is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
===============LICENSE_END=========================================================
-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<div class="ds-page-wrapper">
		<section class="pageheadsection">						
						<div class="mdl-grid mdl-grid--no-spacing">
							<div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone">
								<span class="headline mob-disblock">设计工作室 <sup class="ds-text2">测试</sup></span>
								<ul class="c-breadcrumb">
									<li><a ui-sref="home" ng-click="$root.parentActive = ''">主页</a></li>
									<li>设计工作室</li>
								</ul>
							</div>							
						</div>						
					</section>

	<div ng-show="is_ie" class="page-content">
	 
		<div class="error-wrapper" style="position:relative !important">
			<div class="error-wrapper-inner text-center">
				<div class="error-acumos-logo2-DS"></div>
				<h1 class="error-heading1-DS">马上回来</h1>
				<p class="error-m-para2">
					我们&apos;很抱歉。 设计工作室不支持IE浏览器。请使用 Chrome, Firefox 或 Safari 
					<span class="author">--- Acumos Developer Challenge Team</span>
				</p>
				<div class="error-acumos-maintenance-img-DS">
					<img src="images/error-page/under_maintainance.png">
				</div>
				<div class="error-wrapper-inner-bottom-DS"></div>
			</div>
		</div>
	</div>

	<div ng-show="!is_ie" class="page-content ds-outer-container">
	<div class="a-overlay" id="loading">
		<span class="a-overlay-inner-msg">请稍等...</span>
	</div>
			<div flex="20" class="bdr-right posrel ds-left-section" ng-class="left?'ds-left-width':''">
			<div id="content-left">					
				<div class="ds-section" id="top-content-left">
					<div class="ds-section-heading">
						<label>商城</label>
					</div>
					<div class="ds-section-heading-container">					
						
					</div>
					<div class="ds-contentsection-tab">
							<md-tabs md-dynamic-height md-border-bottom class="ds-tab1" md-selected="1"> 
							<md-tab label="Solutions"> 
							<div class="ds-section-data-inner bdr-bottom">	
								<md-input-container md-no-float class="md-block ds-search-input">
										<input ng-model="myFilter.solutionName" type="text"> <md-icon
											style="display:inline-block;">
										<button
										class="mdl-button mdl-js-button mdl-button--icon ds-btnsearch1">
										<span class="ds-icon icon-input-search" title="Search"></span>
									</button></md-icon> </md-input-container>						
								
							</div>
						<md-content class=""
							style="padding: 0px;padding-left: 5px;"> 
						<div class="ds-section-data-inner2">
							<ul class="ds-list3" ng-repeat="val in publicCS | orderBy:'solutionName' | filter:myFilter">
								<li><span ng-click="loadSolution(val)" class="readSolutions" ng-class="{'ds-selected-model': val.solutionName+val.version === selectedIndex}">{{val.solutionName}} ({{val.version}})</label></span></li>
							</ul>
						</div>
						</md-content> </md-tab>
							<md-tab label="Models"> 
							<div class="ds-section-data-inner bdr-bottom">	
								<md-input-container md-no-float class="md-block ds-search-input">
										<input ng-model="modelFilter.solutionName" type="text"> <md-icon
											style="display:inline-block;">
										<button
										class="mdl-button mdl-js-button mdl-button--icon ds-btnsearch1">
										<span class="ds-icon icon-input-search" title="Search"></span>
									</button></md-icon> </md-input-container>						
								
							</div>
								<md-content>
									
									<div class="ds-contentsection2 ds-new-container1">
									
									<div ng-repeat="category in categoryNames">
									<div class="ds-treelist">
										
										<div ng-if="category.code!=='DT' && category.code!=='DS'">
										<div class="fa fa-folder question ui-link" ng-click="expanded = !expanded" expand ng-class="expanded ? 'fa fa-folder-open' : 'fa fa-folder'"><span class="dslist1">{{category.name}}</span></div> 
						                     <div ng-show="expanded">
							                      <div ng-repeat="cat in palette.categories" ng-show="expanded">
							                        <div ng-if="category.code==cat.key" class="ds-treelist-childtree">
								                        <div class="fa fa-share-alt ds-list-icon2 ds-inner-link" ng-repeat = "val in cat.values | orderBy:'solutionName' | filter: modelFilter" ng-class="{'ds-selected-model': val.solutionName+val.version+val.solutionRevisionId.substring(0,4) === selectedIndex}" ng-attr-draggable="{{val.toolKit !== 'CP'}}" ng-click="getProperties(val.solutionName,val.version,val.solutionRevisionId)">{{val.solutionName}} ({{val.version}}) <div ng-if="val.solutionRevisionId" style="display: inline-block">[{{val.solutionRevisionId.substring(0,4)}}...]</div></div>
							                      	</div>
							                    </div>
						                    </div>
						             </div> 
						             </div>     
						            </div>
						            <div>
									<div class="ds-treelist">
										<div class="fa fa-folder question ui-link" ng-click="test = !test" expand ng-class="test ? 'fa fa-folder-open' : 'fa fa-folder'"><span class="dslist1">其他</span></div>
						                     <div ng-show="test">
							                      <div ng-repeat="cat in palette.categories">
							                        <div ng-if='cat.key=="others"' class="ds-treelist-childtree">
								                        <div class="fa fa-share-alt ds-list-icon2 ds-inner-link" ng-repeat = "val in cat.values | orderBy:'solutionName' | filter: modelFilter" ng-class="{'ds-selected-model': val.solutionName+val.version+val.solutionRevisionId.substring(0,4) === selectedIndex}" ng-attr-draggable="{{val.toolKit !== 'CP'}}" ng-click="getProperties(val.solutionName,val.version,val.solutionRevisionId)">{{val.solutionName}} ({{val.version}}) <div ng-if="val.solutionRevisionId" style="display: inline-block">[{{val.solutionRevisionId.substring(0,4)}}...]</div></div>
							                      	</div>
							                    </div>
						                    </div>
						             </div>      
						            </div>
								</div>
									
								</md-content> 
							</md-tab> 
							
						</md-tabs>
						</div>
					
				</div>
				<div class="ds-hor-seperator" id="content-resizer-left"></div>
				<div class="ds-section" id="bottom-content-left">
							<div class="ds-section-heading">
								<label>数据转换工具</label>
								<span>
									
								</span>
							</div>
							<div class="ds-section-data">
							<div class="ds-section-data-inner bdr-bottom">	
								<md-input-container md-no-float class="md-block ds-search-input">
										<input ng-model="filterDT.solutionName" type="text"> <md-icon
											style="display:inline-block;">
										<button
										class="mdl-button mdl-js-button mdl-button--icon ds-btnsearch1">
										<span class="ds-icon icon-input-search" title="Search"></span>
									</button></md-icon> </md-input-container>						
								
							</div>
							
							<div class="ds-section-data-inner2">							
								<div class="ds-list1">
									
							                      <div ng-repeat="cat in palette.categories">
							                        <div ng-if='cat.key== "DT"' class="ds-treelist-childtree">
								                        <div class="fa fa-share-alt ds-list-icon2 ds-inner-link" ng-repeat = "val in cat.values | filter:filterDT | orderBy:'solutionName'" ng-class="{'ds-selected-model': val.solutionName+val.version+val.solutionRevisionId.substring(0,4) === selectedIndex}" ng-attr-draggable="{{val.toolKit !== 'CP'}}" ng-click="getProperties(val.solutionName,val.version,val.solutionRevisionId)">{{val.solutionName}} ({{val.version}}) <div ng-if="val.solutionRevisionId" style="display: inline-block">[{{val.solutionRevisionId.substring(0,4)}}...]</div></div>
							                      	</div>
							                    </div>
						                    
								
							</div>							
							</div>
							</div>
							<div class="ds-hor-seperator2" id="content-resizer-left"></div>
						</div>
				<div class="ds-section">
							<div class="ds-section-heading">
								<label>数据源</label>
								<span>
									
								</span>
							</div>
							<div class="ds-section-data">
							<div class="ds-section-data-inner bdr-bottom">							
								<md-input-container md-no-float class="md-block ds-search-input">
										<input ng-model="filterDS.solutionName" type="text"> <md-icon
											style="display:inline-block;">
										<button
										class="mdl-button mdl-js-button mdl-button--icon ds-btnsearch1">
										<span class="ds-icon icon-input-search" title="Search"></span>
									</button></md-icon> </md-input-container>	
							</div>
							<div class="ds-section-data-inner5">
								<div class="ds-list1">
									<div ng-repeat="cat in palette.categories">
							        	<div ng-if='cat.key== "DS"' class="ds-treelist-childtree">
								        	<div class="fa fa-share-alt ds-list-icon2 ds-inner-link" ng-repeat = "val in cat.values | filter:filterDS | orderBy:'solutionName'" ng-class="{'ds-selected-model': val.solutionName+val.version+val.solutionRevisionId.substring(0,4) === selectedIndex}" ng-attr-draggable="{{val.toolKit !== 'CP'}}" ng-click="getProperties(val.solutionName,val.version,val.solutionRevisionId)">{{val.solutionName}} ({{val.version}}) <div ng-if="val.solutionRevisionId" style="display: inline-block">[{{val.solutionRevisionId.substring(0,4)}}...]</div></div>
							            </div>
							        </div>
							     </div>
						      
							</div>							
							</div>							
						</div>
				<div class="left-drawer-handle" ng-click="left = !left"><span class="left-handle"><i class="material-icons">keyboard_arrow_left</i></span></div>
				</div>
			</div>
			<div flex class="">
				<div class="ds-container1">
					<span>
					<span class="ds-label-container1">
							<label class="ds-label-title" ng-if="!solutionName">未命名</label>
							<label class="ds-label-title" ng-if="solutionName"><span ng-bind="solutionName"></span></label>
							<button ng-if="solutionName" class="mdl-button mdl-js-button mdl-button--icon ds-btnclose1 marginBottom"  ng-click="closeComSol()">
									<i class="fa fa-times" aria-hidden="true"></i>
							</button>
							<button ng-if="!solutionName" class="mdl-button mdl-js-button mdl-button--icon ds-btnclose1 marginBottom"  ng-click="closeComSol()" ng-disabled="saveState.noSaves" title="Close">
									<i class="fa fa-times" aria-hidden="true"></i>
							</button>
					</span>
					<button ng-click='newSolution("new");canvas=true' class="mdl-button mdl-js-button ds-btnnew" title="New">
							<span class="addnew"></span> 新的
						</button>
					</span>
					<div class="ds-btn-container">
						<div class="probe-container">
							<label>探针:</label>
							<input ng-model="myCheckbox" type="checkbox" name="probe" ng-change='setProbe(myCheckbox)' ng-disabled='checkboxDisable' ng-class="checkboxDisable?'inputCheckDisabled':''">
						</div>
						<button ng-click='showDeleteNodeLink()' id="deleteHide" class="mdl-button mdl-js-button text-small font-semi-bold btn-delete-toggle normaltext-transform bdr-right ds-btn1 btn-delete"><i class="ds-icon icon-delete-toggle" aria-hidden="true"></i>删除</button>
						<!-- <span class="btn-divider"> | </span> -->
						<button ng-click='clearSolution()' class="mdl-button mdl-js-button text-small font-semi-bold bdr-right btn-clear-canvas normaltext-transform" ng-disabled="cleardis" title="Clear"><span class="ds-icon icon-clear-canvas"></span>清除</button>
						<button id="validateActive" class="mdl-button mdl-js-button bdr-right ds-btn1 btn-validate" ng-disabled="validationState" ng-click="validateCompSolu()"  title="Validate"><span class="ds-icon icon-validate"></span>验证</button>
						<button class="mdl-button mdl-js-button bdr-right ds-btn1 btn-save" ng-disabled='saveState.noSaves'  ng-click="showPrerenderedDialog()"  title="Save"><i class="fa fa-floppy-o" aria-hidden="true"></i> 保存</button>
						<div class="">						 
							<button type="button" id="demo-menu-lower-right4" ng-disabled="activeInactivedeploy"
								class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect btn-secondary ds-btn1 btn-deploy" title="Deploy">
								<span class="ds-icon icon-deploy"></span> 部署 <i class="material-icons">keyboard_arrow_down</i>
							</button>
							<ul
								class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect deploy-cloud-list"
								for="demo-menu-lower-right4">
								<li class="mdl-menu__item dc-microsoft-azure" ui-sref="modelEdit ({solutionId: solutionIdDeploy,deployStatus: true})"></li>
								<li class="mdl-menu__item dc-google-cloud" disabled></li>
								<li class="mdl-menu__item dc-rackspace" disabled></li>
								<li class="mdl-menu__item dc-amazon-cloud" disabled></li>
								<li class="mdl-menu__item dc-att-cloud" disabled></li>
							</ul>
						</div> 
						
						<button ng-click="right = !right" class="mdl-button mdl-js-button bdr-right ds-btn1 btn-playlist" title="Collapse Right Panel"><span class="ds-icon icon-expand-drawer"></span></button>
						<button ng-click="closeDrawer()" class="mdl-button mdl-js-button ds-btn1 btn-fullscreen" title="Full Screen"><span class="ds-icon icon-fullscreen"></span></button>
					</div>
				</div>
				<div class="ds-outer-container2">
					<div flex id="dsgridbg" class="ds-grid-bg">
						<section droppable="true">
      						<div id="canvas"></div>
    					</section>
						<div class="canvas-outer-container" ng-hide="canvas">
							<div class="canvas-box">
								<div class="canvas-image"></div>
								<div class="canvas-text text-center">
									
									<h5>拖动 &amp; 从左侧面板中拖拽模型到画板上以创建组合解决策略</h5>
								</div>
							
							</div>
						</div>
						<div class="console-outer-container" ng-class="down?'console-container-hide':''">
							<div class="ds-version-container">组合引擎 0.0.38</div>
							<div class="bottom-drawer-handle" ng-init="down='true'" ng-click="down = !down"><span class="bottom-handle"><i class="material-icons">keyboard_arrow_up</i></span></div>
								<div class="ds-section" ng-hide="down">
									<div class="ds-section-heading">
										<label>验证操作台</label>
										<span>									
											<button
												class="mdl-button mdl-js-button mdl-button--icon ds-btnclose1" ng-click="down = !down" title="Close">
												<i class="fa fa-times" aria-hidden="true"></i>
											</button>
										</span>
									</div>
									<div class="console-section-data">
										<div class="console-section-data-inner">
										<span id="consoleMsg">{{console}}</span>										
										</div>
									</div>									
								</div>
							</div>	
						
					</div>
					<div flex="25" class="ds-right-section bdr-left bdr-bottom posrel" ng-class="right?'ds-right-width':''">
					<div id="content">
						<div class="ds-section" id="top-content">
						
					<div class="ds-section-heading-container">					
						
					</div> 
						<div class="ds-contentsection-tab1">
							<md-tabs md-dynamic-height md-border-bottom class="ds-tab1" md-selected="tabChange"> 
							<md-tab label="Properties"> 
								<md-content class="">
							<div class="ds-section-data ds-section-properties">							
							<div class="ds-section-data-inner3" ng-show="solutionDetails" >							
								<ul class="ds-list2 properties-list">
									
									<li>
										<label class="disblock ds-label1">节点名称:</label>
										<label class="text-semi-bold ds-label2">{{nodeNameUI || 'empty'}}</label>
									</li>
									<li>
										<label class="disblock ds-label1">节点种类:</label>
										<label class="disblock text-semi-bold">{{solutionDetails.solutionName}}</label>
									</li>
									<li>
										<label class="disblock ds-label1">作者:</label>
										<label class="disblock text-semi-bold">{{solutionDetails.author}}</label>
									</li>
									<li>
										<label class="disblock ds-label1">模型提供者:</label>
										<label class="disblock text-semi-bold">{{solutionDetails.onBoarder}}</label>
									</li>
									<li>
										<div ng-switch on="solutionDetails.toolKit">
											<div class="twoCases" ng-switch-when="null">
												<label class="disblock ds-label1">工具种类:</label>
												<label class="disblock text-semi-bold">{{solutionDetails.toolKit}}</label>
											</div>
											<div class="twoCases" ng-switch-default>
												<div ng-repeat="toolkitDet in toolKitTypes">
            										<div ng-if="solutionDetails.toolKit === toolkitDet.code">
              											<label class="disblock ds-label1">工具种类:</label>
														<label class="disblock text-semi-bold">{{toolkitDet.name}}</label>
              										</div>
            									</div>
            								</div>
            							</div>

									</li>

								</ul>
							 <a ui-sref="marketSolutions({solutionId: solutionDetails.solutionId})" target="_blank">获取更多资讯...</a>
							</div>
							<div  class="disblock text-semi-bold" style="padding-left:1em;color:black" ng-show="showProperties">
											消息 {{messageDet}} {
											
											<div ng-repeat="msg in messageUI" style="padding-left:3em">
												{{msg}};
											</div>
											}
											
											
								<div ng-show="complexType" >
											
											<div ng-repeat="cmplx in complexMapArrayUI">
												消息 {{cmplx.messageName}} {
												<div ng-repeat = "cmplxmsg in cmplx.message" style="padding-left:3em">
												{{cmplxmsg}};
												</div>
												}
											</div>
											
										</div>
										</div>
							<div class="ds-section-data-inner3" ng-show="showDataBroker">
							
								源表和目标表已生成并从上传数据文件中提取得到。
								
								<button ng-click='showMappingTable()' class="mdl-button mdl-js-button text-small font-semi-bold normaltext-transform" style="background: #E8E5EC;color:#671C9D">映射表</button>
							</div>
							
							<div class="ds-section-data-inner3" ng-show = "showCollator">
								<ul class="ds-list2 properties-list">
									<li>
										<label class="disblock ds-label1">节点名称:</label>
										<label class="text-semi-bold ds-label2">{{nodeNameUI || 'empty'}}</label>
									</li>
								</ul>
								<label ng-if="!collateSelect">注意: 请选择校对器策略以在校对器和其他模型之间添加线。</label>
								<br/>
								<div class="ds-btncontainer1">
									<button ng-click='showCollatorSelection()' class="mdl-button mdl-js-button text-small btn-primary">校对器策略选择</button>
									<button ng-click='showCollatorMap()' class="mdl-button mdl-js-button text-small btn-primary" ng-disabled="!enableCollateMap" >校对图</button>
								</div>
							</div>
							
							<div class="ds-section-data-inner3" ng-show = "showSplitter">
								<ul class="ds-list2 properties-list">
									<li>
										<label class="disblock ds-label1">节点名称:</label>
										<label class="text-semi-bold ds-label2">{{nodeNameUI || 'empty'}}</label>
									</li>
								</ul>
								<label ng-if="!splitSelect">注意: 请选择分割策略以在分割器和其他模型之间添加线。</label>
								<br/>
								<div class="ds-btncontainer1">
									<button ng-click='showSplitterSelection()' class="mdl-button mdl-js-button text-small btn-primary">分割器策略选择</button>
									<button ng-click='showSplitterMap()' class="mdl-button mdl-js-button text-small btn-primary" ng-disabled = "!enableSplitMap">分割图</button>
								</div>
							</div>
								
							<div class="ds-section-data-inner3" ng-show="showLink" >
								<ul class="ds-list2 properties-list">
									
									<li>
										<label class="disblock ds-label1">链接名:</label>
										<label class="text-semi-bold ds-label2">{{linkDetails.orig.value.linkName || 'empty'}}</label>
										<!-- <a href="#" editable-text="solutionDetails.solutionName">{{linkDetails.value.linkName || 'empty'}}</a> -->
									</li>
									<li>
										<label class="disblock ds-label1">源节点名称:</label>
										<label class="disblock text-semi-bold">{{linkDetails.source.orig.value.name}}</label>
									</li>
									<li>
										<label class="disblock ds-label1">目标节点名称:</label>
										<label class="disblock text-semi-bold">{{linkDetails.target.orig.value.name}}</label>
									</li>
									
								</ul>
							</div>	
							<div class="ds-section-data-inner3" ng-show="showDataMapper">
                                                                          <div id="data-mapper"></div>
                                                                        </div>					
							</div>
							</md-content> 
							</md-tab>

							<md-tab label="Matching Models" > 
								<md-content class="" ng-if="clicked" style="padding:0px" >			
								<div class="ds-section-data-inner bdr-bottom ds-section-matching-models">	
								<md-input-container md-no-float class="md-block ds-search-input">
										<input ng-model="filterMM.solutionName" type="text"> <md-icon
											style="display:inline-block;">
										<button
										class="mdl-button mdl-js-button mdl-button--icon ds-btnsearch1">
										<span class="ds-icon icon-input-search"></span>
									</button></md-icon> </md-input-container>						
							</div>
									<div class="ds-section-data-inner2">
								<div class="ds-treelist">
					                        <div class="ds-treelist-childtree">
								                        <div class="fa fa-share-alt ds-list-icon2 ds-inner-link" ng-repeat = "val in matchModels | orderBy:'solutionName'| filter:filterMM" ng-attr-draggable="{{val.toolKit !== 'CP'}}" ng-mouseover="getProperties(val.solutionName)">{{val.solutionName}} ({{val.version}}) <div ng-if="val.solutionRevisionId" style="display: inline-block">[{{val.solutionRevisionId.substring(0,4)}}...]</div></div>
							                      	</div>
							                    </div>
						                        </div>
								</md-content>
								</md-tab>

								</md-tabs>							
							</div>
							<div class="ds-hor-seperator1" id="content-resizer"></div>
						
						<div class="ds-section" id="bottom-content">
							<div class="ds-section-heading">
								<label>我的解决策略</label>
								<span>
									
								</span>
							</div>
							<div class="ds-section-data">
							<div class="ds-section-data-inner bdr-bottom">							
								<md-input-container md-no-float class="md-block ds-search-input">
										<input type="text" ng-model="searchSol.solutionName"> 
										<md-icon style="display:inline-block;">
										<button
										class="mdl-button mdl-js-button mdl-button--icon ds-btnsearch1">
										<span class="ds-icon icon-input-search" title="Search"></span>
									</button></md-icon></md-input-container>
							</div>
						
							<div class="ds-section-data-inner4 marginLeft">							
								<ul class="ds-list3" ng-repeat="val in privateCS | filter:searchSol | orderBy:'solutionName'">
									<li><span ng-click="loadSolution(val)" class="readSolutions" ng-class="{'ds-selected-model': val.solutionName+val.version === selectedIndex}">{{val.solutionName}} ({{val.version}})</label></span><button ng-click="showdeletePopup($event,val)" class="mdl-button mdl-js-button"><span class="ds-delete-icon" title="Delete"></span></button> </li>
								</ul>
							</div>							
							</div>
							
						</div>
						</div>
						<div class="right-drawer-handle" ng-click="right = !right"><span class="right-handle"><i class="material-icons">keyboard_arrow_right</i></span></div>
					</div>
				</div>				
			</div>			
		</div>
		<div style="clear:both;"></div>
	</div>
	
<style>
@import url('css/designStudio.css'); 
</style>
<!-- popup message -->
<div class="md-dialog-container" id="myDialogPopup" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
								  <form ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2 ng-bind="titlemsg"></h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closePoup()">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
									  <div class="md-dialog-content">
										<p ng-bind-html="msg"></p>																
									  </div>
									</md-dialog-content>
									<md-dialog-actions>
										<div class="dialog-footer-container1">
										 <span></span>
										 	<md-button ng-click="closePoup()" class="mdl-button mdl-js-button btn-primary">
									        Ok
									      </md-button>	
									      </div>
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
 <!-- material popup start-->
							<div class="md-dialog-container" id="myDialog" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
								  <form ng-cloak name ="signupSolution">
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>保存解决方案</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closeSavePoup()">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
									  <div class="md-dialog-content">
										<div class="mdl-grid mdl-grid--no-spacing deploy-grid">
										  <div class="mdl-cell mdl-cell--6-col">
										  		 <md-input-container class="md-icon-float md-block">
												      <!-- Use floating label instead of placeholder -->
												      <label>解决方案名称</label>												      
												      <input ng-model="solutionName" type="text" required="" maxlength="16">
												 </md-input-container>
												
										  </div>
										 
										  <div class="mdl-cell mdl-cell--6-col">
											<md-input-container class="md-icon-float md-block">
												<label>版本</label>												
												 <input ng-model="solutionVersion" type="text" required="" maxlength="16">
											</md-input-container>
											
										  </div>
										</div>
										<div><md-input-container class="md-icon-float md-block">
												      <!-- Use floating label instead of placeholder -->
												      <label>描述</label>												      
												      
												       <input ng-model="solutionDescription" type="text" id="address" maxlength="256">
												 </md-input-container></div>	 								
									  </div>
									</md-dialog-content>
									<md-dialog-actions>
										<div class="dialog-footer-container1">
											<md-button ng-click="closeSavePoup()" class="mdl-button mdl-js-button btn-secondary">
									        关闭
									      </md-button>
										  <md-button ng-disabled="signupSolution.$invalid" ng-click='saveSolution()' class="mdl-button mdl-js-button btn-primary">
									        保存
									      </md-button>
									    </div>
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
<!-- material popup end -->	
<!-- delete confirmation Modal box start -->
							<div class="md-dialog-container" id="myDialogdelete" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
								  <form ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>确认删除</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closePoup()">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
									  <div class="md-dialog-content">
										<p>你确定想要删除 {{solutionToDelete.solutionName}}({{solutionVersion}}) 策略?</p>
							 								
									  </div>
									</md-dialog-content>
									<md-dialog-actions>
										<div class="dialog-footer-container1">
											<md-button ng-click="closePoup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
									        取消
									      </md-button>
										  <md-button ng-click="deleteSolution(solutionToDelete)" class="mdl-button mdl-js-button btn-primary" title="Confirm">
									        确认
									      </md-button>
									    </div>
									 </md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
<!-- delete confirmation Modal box end -->

<!-- delete confirmation Node or link box start -->
							<div class="md-dialog-container" id="myDialogNodeLink" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
								  <form ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>删除选中单位</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closePoup()">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
									  <div class="md-dialog-content">
										<p>你确定想要删除这个节点/线？</p>										
										 								
									  </div>
									</md-dialog-content>
									<md-dialog-actions>
											<div class="dialog-footer-container1">
											<md-button ng-click="closePoup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
									        取消
									      </md-button>
										  <md-button ng-click="deleteNodeEdge()" class="mdl-button mdl-js-button btn-primary" title="Confirm">
									        确认
									      </md-button>
									    </div>									
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
<!-- delete confirmation Node or Link box end -->
<!-- save confirmation Modal box start -->
							<div class="md-dialog-container" id="myDialogSave" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
								  <form ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>保存解决方案</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closePoup()">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
									  <div class="md-dialog-content">
										<p>你是否想要保存当前解决方案?</p>
						 							
									  </div>
									</md-dialog-content>
									<md-dialog-actions>
											<div class="dialog-footer-container1">
											<md-button ng-click="closePoup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
									        取消
									      </md-button>
									      <span>
									      <md-button ng-click="SaveSolutionFirst('no')" class="mdl-button mdl-js-button btn-primary" title="No">
									        不
									      </md-button>
										  <md-button ng-click="SaveSolutionFirst('yes')" class="mdl-button mdl-js-button btn-primary" title="Yes">
									        是
									      </md-button>
									      </span>
									    </div>	
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
<!-- save confirmation Modal box end -->

<!-- Saving old version popup confirmation Modal box start -->
							<div class="md-dialog-container" id="myDialogOldSave" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
								  
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2></h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closePoup()">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
									<form ng-cloak>
									  <div class="md-dialog-content">
										<p>你是否想要更新此解决方案的前一版本?</p>
																	
									  </div>
									  </form>
									</md-dialog-content>
									<md-dialog-actions>
										 <div class="dialog-footer-container1">
											<md-button ng-click="closePoup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
									        取消
									      </md-button>
										  <md-button ng-click="updateMySolution()" class="mdl-button mdl-js-button btn-primary" title="Confirm">
									        确认
									      </md-button>
									    </div>									
									</md-dialog-actions>
								</md-dialog>
							</div>
<!-- Saving old version popup confirmation Modal box end -->

<!-- Data Broker Modal box start -->
					<div class="md-dialog-container" id="myDialogScript" style="height: 0;">
						<md-dialog aria-label="Mango (Fruit)" class="ds-data-broker-dialog">
							<ng-form name="databroker" ng-cloak>
							<md-toolbar>
							<div class="md-toolbar-tools">
								<h2>脚本</h2>
								<span flex></span>
								<md-button class="md-icon-button" ng-click="closePoupscript()">
								<i class="material-icons">关闭</i> </md-button>
							</div>
							</md-toolbar>
							<md-dialog-content>
							
							<div class="md-dialog-content" ng-model="dbValue">
								<div class="ds-db-row1">
									<div class="ds-db-row1-cell ds-db-row1-cell1">
										<div class="select-control">
										
											<label>Data Broker 种类 <span class="dsreqfield">*</span></label>
											<md-select ng-model="dbType" name="dbType" placeholder="Select Type" ng-blur="dbTypeVisited=true" ng-focus="dbTypeVisited=false" required ng-change="mapDBType(dbType)"> 
												<md-option value="image">图片文件</md-option> 
												<md-option value="csv">CSV 文件</md-option> 
												<md-option value="json">JSON 文件</md-option> 
												<md-option value="sql">SQL 数据库</md-option> 
											</md-select>
											<div class="help-inline validation-msgs">
												<span ng-class="{validationmsg:!databroker.dbType.$valid}"
													ng-show="(databroker.dbType.$dirty && databroker.dbType.$error.required && databroker.fileUrl.$touched)">请选择Data Broker 种类</span>
											</div>
										</div>
									</div>
									<div class="ds-db-row1-cell ds-db-row1-cell2">
										<md-input-container class="md-block" id="fileURL">
					
										<label ng-if="dbType == 'sql'">JDBC URL <!-- <span class="dsreqfield">*</span> --></label>
										<label ng-if="dbType !== 'sql'">文件路径 <!-- <span class="dsreqfield">*</span> --></label> 
											<input type="text" ng-model="fileUrl" name="fileUrl"
												
												ng-pattern="/^[-a-zA-Z0-9@:%._\+~#=]{2,256}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)$/" ng-blur="changeRead()" ng-disabled="true" style="background: #B3B3B3;">
											<span class="modal-note">对于单一文件请知名文件路径，对于含有多个文件的字典，请根据该字典指明路径。</span>
										<div class="help-inline validation-msgs" ng-class="{validationmsg:!databroker.fileUrl.$valid}">
											<span ng-show="!!databroker.fileUrl.$error.required && databroker.fileUrl.$touched ">请输入 文件/JDBC URL</span> 
											<span ng-show="!!databroker.fileUrl.$dirty && databroker.fileUrl.$error.pattern">请输入 url</span>
										</div>
					
										</md-input-container>
									</div>
								</div>
								<div class="ds-db-row2">
									<md-input-container class="md-block" id="enterScript">
									<label>键入脚本 <!-- <span class="dsreqfield"></span> --></label> <textarea
										rows="4" id="script" ng-model="scriptText" name="scriptText"
										 ng-blur="changeRead()" ng-disabled="true" style="background: #B3B3B3;"></textarea> <span class="modal-note">
									为 Data Broker 或者 SQL 脚本（SQL Data Broker）键入多行命令，逐行键入命令，每一行尾以连接号结束。</span>
									<div class="help-inline validation-msgs"
										ng-class="{validationmsg:!databroker.scriptText.$valid}">
										<span
											ng-show="!!databroker.scriptText.$error.required && databroker.scriptText.$dirty && databroker.scriptText.$touched ">请键入脚本</span>
									</div>
									</md-input-container>
								</div>
								<div class="ds-db-row3">
									<div class="ds-db-row3-cell ds-db-row3-cell1" id="upload"
										ng-show="(dbType == 'csv') || (dbType == 'json') || (dbType == 'sql')">
										<label class="disblock">上传范例数据文件 <span
											class="dsreqfield">*</span></label>
											<input id="fileRead" type="file" ngf-select  ng-model="userImage" name="fileNew" class="mdl-textfield__input userprofiletxtbox uploadtxtbox"   
             										accept=".{{dbType}}" file-reader="fileContent" ng-required="(dbType == 'csv') || (dbType == 'json') || (dbType == 'sql')" 
             										ngf-model-invalid="errorFile" ng-change="checkFileName()"/>
             										
             										<span  ng-if="!userImage" ng-bind="userImageNew"></span>
             										<!-- <span  ng-bind="errormsg"></span> -->
										<div class="help-inline validation-msgs"
										ng-class="validationmsg">
										<span ng-if="!userImage && userImageNew">如果你想给改动源表，请重新上传文件。</span> 
										<span ng-if="enableScript">文件无效，请上传 csv 后缀文件。</span>
										<span ng-class="validationmsg" ng-bind="errormsg"></span> 
									</div>
					                     
									</div>
					
									<div class="ds-db-row3-cell ds-db-row3-cell2" id="selectFirstRow"
										ng-show="dbType == 'csv'">
										<label class="disblock">选择 <span class="dsreqfield">*</span></label>
										<md-radio-group ng-model="firstRow" ng-required="dbType == 'csv'" ng-change="changeRead()"> <md-radio-button
											class="md-primary" value="contains_field_names">第一行包含区域名s</md-radio-button> <md-radio-button value="contains_data">第一行包含数据 </md-radio-button> </md-radio-group>
									</div>
									
									<div class="ds-db-row3-cell ds-db-row3-cell2"
										ng-show="dbType == 'sql'">
										<md-input-container class="md-block" id="databaseName">
											<label>数据库名称 <span class="dsreqfield"></span></label>
											<input type="text" name="databaseName" ng-model="databaseName" ng-change="changeRead()" ng-required="dbType == 'sql'"> 
											<div class="help-inline validation-msgs" ng-class="{validationmsg:!databroker.databaseName.$valid}">
												<span ng-show="!!databroker.databaseName.$error.required && databroker.databaseName.$dirty && databroker.databaseName.$touched ">请进入数据库名称</span>
											</div>
										</md-input-container>
									</div>
									
								</div>
								<div class="ds-db-row4" ng-show="dbType == 'sql'">
									<div class="ds-db-row4-cell ds-db-row4-cell1">
										<div class="select-control">
										
											<label>选择 JDBC 数据源类名 <span class="dsreqfield">*</span></label>
											<md-select class="md-no-asterisk" ng-model="jdbcDatasource" name="jdbcDatasource" placeholder="Select JDBC Class name" ng-change="changeRead()" ng-required="dbType == 'sql'"> 
												<md-option value="com.mysql.jdbc.Driver">MySQL</md-option> 
												
											</md-select>
											<div class="help-inline validation-msgs" ng-class="{validationmsg:!databroker.jdbcDatasource.$valid}">
												<span ng-show="databroker.dbType.$dirty && databroker.dbType.$error.required">请选择 JDBC 数据源类名</span>
											</div>
										</div>
									</div>
							</div>
							
							</md-dialog-content>
							<md-dialog-actions>
							<div class="dialog-footer-container1">
								<md-button ng-click="closePoupscript()"
									class="mdl-button mdl-js-button btn-secondary" title="Cancel">
								Cancel </md-button>
								<md-button type="submit" ng-disabled="userImage ? (databroker.$invalid || (readSolution || enableScript)) : (databroker.$invalid || readSolution)"
									ng-click="processData()" class="mdl-button mdl-js-button btn-primary"
									title="Done"> 已完成 </md-button>
							</div>
							</md-dialog-actions>
						</ng-form>
						</md-dialog>
					</div>
<!-- Data Broker Modal box end -->

<!-- Mapping Modal box start -->
							<div class="md-dialog-container" id="myDialogMapping" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="ds-mapping-tables-dialog">
								  <form name="sourceTargetTable" ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>映射表</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closeMappingPopup()" title="Close">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
										<div class="md-dialog-content">
											<div class="dsmt-container">
												<div class="dsmt-cell dsmt-left-cell">
														<div class="dsmt-chitable">
														<table class="mdl-data-table mdl-js-data-table dsmt-tbl">															
															  <thead>
																<tr>
																  <th></th>															
																  <th>列名</th>
																  <th>列种类</th>
																  <th>映射</th>
																</tr>
															  </thead>
															  <tbody>
																<tr ng-show="(dbType === 'csv' || dbType === 'sql') && !readSolution" ng-repeat="data in dataShow">
																	<td>
																		<md-checkbox ng-model="checkfield" aria-label="Checkbox 1" ng-blur="mapCheckField($index)">
																			<!-- {{ data.cb1 }} -->
																		</md-checkbox>
																	</td>
																	<td>
																		<md-input-container class="md-block">																		
																			<input type="text" required value="" name="fieldName" ng-model="data" ng-blur= "mapFieldName($index)"> 
																			
																		</md-input-container>
																	</td>															
																	 <td>
																		<div class="select-control">																	
																			<md-select ng-disabled="!checkfield" ng-model="fieldType" name="fieldType" placeholder="Select Type" ng-change="mapFieldType($index)">															
																				<md-option value="int">int</md-option>
																				<md-option value="string">string</md-option>
																				<md-option value="float">float</md-option>
																				<md-option value="boolean">boolean</md-option>
																				<md-option value="long">long</md-option>
																				<md-option value="double">double</md-option>
																				<md-option value="byte">byte</md-option>
																			</md-select>
																		</div>
																	 </td>
																	 <td>
																		<div class="select-control">																	
																			<md-select ng-disabled="!checkfield" ng-model="mapTag" name="mapTag" placeholder="Select Tag" ng-change="mappingTag($index)">
																					<md-option value="{{target.tag}}" ng-repeat="target in targetMapTable">{{target.tag}}</md-option>	
																			</md-select>
																		</div>
																	 </td>																 
																</tr>
																
																<tr ng-show="dbType === 'image' && !readSolution" ng-repeat="data in dataImage">
																	<td>
																		<md-checkbox ng-model="checkfield" aria-label="Checkbox 1" ng-blur="mapCheckField($index)">
																		</md-checkbox>
																	</td>
																	<td>
																		<md-input-container class="md-block">																		
																			<input type="text" required value="{{data.Fieldname}}"> 
																		</md-input-container>
																	</td>															
																	 <td>
																	 <md-input-container class="md-block">
																		<input type="text" required value="{{data.FieldType}}"> 
																		</md-input-container>
																	 </td>
																	 <td>
																		<div class="select-control">																	
																			<md-select ng-disabled="!checkfield" required ng-model="mapTag" name="mapTag" placeholder="Select Tag" ng-change="mappingTag($index)">
																					<md-option value="{{target.tag}}" ng-repeat="target in targetMapTable">{{target.tag}}</md-option>	
																			</md-select>
																		</div>
																	 </td>																 
																</tr>
																
																<tr ng-show="(dbType === 'csv' || dbType === 'sql') && readSolution" ng-repeat="data in readSourceTable">
																	<td>
																		<md-checkbox ng-if="data.input_field.checked === 'YES'" name="checkfield" ng-model="checkedRead" aria-label="Checkbox 1" ng-blur="mapCheckField($index)">
																		</md-checkbox>
																		<md-checkbox ng-if="data.input_field.checked !== 'YES'" name="checkfield" ng-model="uncheckedRead" aria-label="Checkbox 1" ng-blur="mapCheckField($index)">
																			<!-- {{ data.cb1 }} -->
																		</md-checkbox>
																	</td>
																	<td>
																		<md-input-container class="md-block">																		
																			<input type="text" required value="" name="fieldName" ng-model="data.input_field.name"> 	
																		</md-input-container>
																	</td>															
																	 <td>
																		<div class="select-control">																	
																			<md-select ng-disabled="data.input_field.checked !== 'YES'" ng-model="data.input_field.type" name="fieldType" placeholder="{{data.input_field.type}}">															
																				<md-option value="int">int</md-option>
																				<md-option value="string">string</md-option>
																				<md-option value="float">float</md-option>
																				<md-option value="boolean">boolean</md-option>
																				<md-option value="long">long</md-option>
																				<md-option value="double">double</md-option>
																				<md-option value="byte">byte</md-option>
																			</md-select>
																		</div>
																	 </td>
																	 <td>
																		<div class="select-control">																	
																			<md-select ng-disabled="data.input_field.checked !== 'YES'" ng-model="data.input_field.mapped_to_field" name="mapTag" placeholder="{{data.input_field.mapped_to_field}}">
																					<md-option value="{{target.tag}}" ng-repeat="target in targetMapTable">{{target.tag}}</md-option>	
																			</md-select>
																		</div>
																	 </td>																 
																</tr>
																
																<tr ng-show="dbType === 'image' && readSolution" ng-repeat="data in readSourceTable">
																	<td>
																		<md-checkbox ng-if="data.input_field.checked === 'YES'" ng-model="checkedRead" aria-label="Checkbox 1">
																		</md-checkbox>
																		<md-checkbox ng-if="data.input_field.checked !== 'YES'" ng-model="uncheckedRead" aria-label="Checkbox 1">
																		</md-checkbox>
																	</td>
																	<td>
																		<md-input-container class="md-block">																		
																			<input type="text" required value="{{data.input_field.name}}"> 
																		</md-input-container>
																	</td>															
																	 <td>
																	 <md-input-container class="md-block">
																		<input type="text" required value="{{data.input_field.type}}"> 
																		</md-input-container>
																	 </td>
																	 <td>
																		<div class="select-control">																	
																			<md-select ng-model="data.input_field.mapped_to_field" name="mapTag" placeholder="Select Tag">
																					<md-option value="{{target.tag}}" ng-repeat="target in targetMapTable">{{target.tag}}</md-option>	
																			</md-select>
																		</div>
																	 </td>																 
																</tr>
																															
															  </tbody>
															</table>
													</div>
												</div>
												<div class="dsmt-cell dsmt-right-cell">
													<div class="dsmt-chitable">
													<table class="mdl-data-table mdl-js-data-table dsmt-tbl">																
															  <thead>
																<tr>																  												
																  <th>标签 #</th>
																  <th>区域名称</th>
																  <th>区域种类</th>
																  <th>双亲种类</th>	
																  <th>祖父母种类</th>	
																  <th>曾祖父母种类</th>																  
																</tr>
															  </thead>
															  <tbody>
																<tr ng-repeat="target in targetMapTable">
																	<td>{{target.tag}}</td>
																	<td>{{target.name}}</td>
																	<td>{{target.type}}
																		<p>[{{target.role}}]</p>
																	</td>
																	<td>{{target.parent}}
																		<p ng-if='target.grandParent !== ""'>[{{target.parentRole}}]</p></td>
																	<td>{{target.grandParent}}
																		<p ng-if='target.greatGrandParent !== ""'>[{{target.grandParentRole}}]</p></td>
																	<td>{{target.greatGrandParent}}</td>																	
																</tr>
																
															</tbody>
														</table>
												</div>	
											</div>
																																				
										</div>									
										</div>
									</md-dialog-content>
									<md-dialog-actions>
										<div class="dialog-footer-container1">
											<md-button ng-click="closeMappingPopup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
												取消
											</md-button>
											<md-button type="submit" ng-click="mappingsSave()" class="mdl-button mdl-js-button btn-primary" title="Confirm" ng-disabled="sourceTargetTable.$invalid || disableDone">
												已完成
											</md-button>
									    </div>
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
						<!-- Mapping Modal box end -->
						
						<!-- Schema selection for Collator Start -->
						<div class="md-dialog-container" id="myDialogCollatorSelector" style="height: 0;">
						<md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
							<ng-form name="collatorSelector" ng-cloak>
							<md-toolbar>
							<div class="md-toolbar-tools">
								<h2>校对器选择</h2>
								<span flex></span>
								<md-button class="md-icon-button" ng-click="closePopupCollatorSelector()">
								<i class="material-icons">关闭</i> </md-button>
							</div>
							</md-toolbar>
							<md-dialog-content>
							
							<div class="md-dialog-content" >
								<div class="ds-db-row1">
									
									<div class="ds-db-row1-cell" id="selectCollateSchema">
										<label class="disblock">选择校对策略: <span class="dsreqfield">*</span></label>
										<md-radio-group name="collateScheme" ng-model="collateScheme" ng-change="changeReadCollate()" ng-disabled="collateSchemeChange"> 
											<md-radio-button class="md-primary" value="Array-based">基于数组的校对</md-radio-button>
											<md-radio-button value="Parameter-based">基于参数的校对</md-radio-button> 
										</md-radio-group>
										<div class="help-inline validation-msgs" ng-class="validationmsg">
											<span ng-if="collateSchemeChange">请删除和校对器有关的链接/节点以改变策略。</span>
										</div>
									</div>
								</div>
							</div>
							
							</md-dialog-content>
							<md-dialog-actions>
							<div class="dialog-footer-container1">
								<md-button ng-click="closePopupCollatorSelector()"
									class="mdl-button mdl-js-button btn-secondary" title="Cancel">
								Cancel </md-button>
								<md-button type="submit" ng-disabled="readSolution ? readSolution : !enableCollateDone"
									ng-click="processCollatorSelection()" class="mdl-button mdl-js-button btn-primary"
									title="Done"> 已完成 </md-button>
							</div>
							</md-dialog-actions>
						</ng-form>
						</md-dialog>
					</div>
			<!-- Schema selection for Collator end -->
			
			<!-- Schema selection for Splitter Start -->
						<div class="md-dialog-container" id="myDialogSplitterSelector" style="height: 0;">
						<md-dialog aria-label="Mango (Fruit)" class="cg-dialog-Deploy-to-cloud">
							<ng-form name="splitterSelector" ng-cloak>
							<md-toolbar>
							<div class="md-toolbar-tools">
								<h2>选择分割器</h2>
								<span flex></span>
								<md-button class="md-icon-button" ng-click="closePopupSplitterSelector()">
								<i class="material-icons">关闭</i> </md-button>
							</div>
							</md-toolbar>
							<md-dialog-content>
							
							<div class="md-dialog-content" >
								<div class="ds-db-row1">
									
									<div class="ds-db-row1-cell" id="selectSplitterSchema">
										<label class="disblock">选择分割策略: <span class="dsreqfield">*</span></label>
										<md-radio-group name="splitScheme" ng-model="splitScheme" ng-change="changeReadSplit()" ng-disabled="splitSchemeChange"> 
											<md-radio-button class="md-primary" value="Copy-based">基于复制的分割</md-radio-button>
											<md-radio-button value="Parameter-based">基于参数的分割</md-radio-button> 
										</md-radio-group>
										<div class="help-inline validation-msgs" ng-class="validationmsg">
											<span ng-if="splitSchemeChange">请删除和分割器有关的链接/节点以改变策略。</span>
										</div>
									</div>
								</div>
							</div>
							
							</md-dialog-content>
							<md-dialog-actions>
							<div class="dialog-footer-container1">
								<md-button ng-click="closePopupSplitterSelector()"
									class="mdl-button mdl-js-button btn-secondary" title="Cancel">
								Cancel </md-button>
								<md-button type="submit" ng-disabled="readSolution ? readSolution : !enableSplitDone"
									ng-click="processSplitterSelection()" class="mdl-button mdl-js-button btn-primary"
									title="Done"> 已完成 </md-button>
							</div>
							</md-dialog-actions>
						</ng-form>
						</md-dialog>
					</div>
			<!-- Schema selection for Splitter end -->
			
			<!-- Mapping Table for Collator start -->
						<div class="md-dialog-container" id="myDialogCollatorMap" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="ds-mapping-tables-dialog">
								  <form name="collateSourceTargetTable" ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>校对映射表</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closeMappingPopup()" title="Close">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
										<div class="md-dialog-content">
											<div class="dsmt-container">
												<div class="dsmt-cell">
														<div class="dsmt-chitable">
															<table class="mdl-data-table ds-table1" cellpadding="0" cellspacing="0" >
																<thead>
																	<tr>
																		<th colspan="5"><span>源消息</span></th>
																		<th colspan="2"><span>映射区域</span></th>
																		<th colspan="4"><span>目标消息</span></th>
																	</tr>
																	<tr>
																		<th><span>数据源名称</span></th>
																		<th><span>参数名称</span></th>
																		<th><span>参数种类名称</span></th>
																		<th><span>参数角色</span></th>
																		<th><span>参数标签 #</span></th>
																		<th><span>目标标签映射 - 从源区域映射到目标区域</span></th>
																		<th><span>错误验证者</span></th>
																		<th><span>参数标签 #</span></th>
																		<th><span>参数名</span></th>
																		<th><span>参数种类</span></th>
																		<th><span>参数身份</span></th>
																	</tr>
																</thead>
																<tbody>
																	<tr ng-if="collateSourceMapTable.length >= collateTargetMapTable.length" ng-repeat="source in collateSourceMapTable">
																		<td>{{source.modelName}}</td>
																		<td>{{source.name}}</td>
																		<td>{{source.type}}</td>
																		<td>{{source.role}}</td>
																		<td>{{source.tag}}</td>
																		<td>
																		<div ng-if="!readSolution" class="select-control">																	
																			<md-select ng-model="collateMapTag" name="collateMapTag" placeholder="Select Tag" ng-change="collateMappingTag($index)">
																					<md-option value="null">选择标签</md-option>
																					<md-option value="{{targetMap.tag}}" ng-repeat="targetMap in collateTargetMapTable">{{targetMap.tag}}</md-option>	
																			</md-select>
																			
																		</div>
																		<div ng-if="readSolution" class="select-control">																	
																			<md-select ng-model="readCollateTagMap[$index]" name="collateMapTag" placeholder="{{readCollateTagMap[$index]}}" ng-change="collateMappingTag($index)">
																					<md-option value="null">选择标签</md-option>
																					<md-option value="{{targetMap.tag}}" ng-repeat="targetMap in collateTargetMapTable">{{targetMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		</td>
																		<td><label ng-if= "collateErrorMap.get($index) === 'True' || collateErrorMap.get($index) === 'true'"><i class="material-icons dsicon-true">已完成</i></label>
																			<label ng-if="collateErrorMap.get($index) === 'False' || collateErrorMap.get($index) === 'false' || collateErrorMap.get($index) === undefined || collateErrorMap.get($index) === null"><i class="material-icons dsicon-false">关闭</i></label>
																		</td>
																		<td>{{collateTargetMapTable[$index].tag}}</td>
																		<td>{{collateTargetMapTable[$index].name}}</td>
																		<td>{{collateTargetMapTable[$index].type}}</td>
																		<td>{{collateTargetMapTable[$index].role}}</td>
																	</tr>
																	<tr ng-if="collateSourceMapTable.length < collateTargetMapTable.length" ng-repeat="target in collateTargetMapTable">
																		<td>{{collateSourceMapTable[$index].modelName}}</td>
																		<td>{{collateSourceMapTable[$index].name}}</td>
																		<td>{{collateSourceMapTable[$index].type}}</td>
																		<td>{{collateSourceMapTable[$index].role}}</td>
																		<td>{{collateSourceMapTable[$index].tag}}</td>
																		<td>
																		<div ng-if="!readSolution && collateSourceMapTable[$index].tag" class="select-control">																	
																			<md-select ng-model="collateMapTag" name="collateMapTag" placeholder="Select Tag" ng-change="collateMappingTag($index)">
																					<md-option value="null">选择标签</md-option>
																					<md-option value="{{targetMap.tag}}" ng-repeat="targetMap in collateTargetMapTable">{{targetMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		<div ng-if="readSolution && collateSourceMapTable[$index].tag" class="select-control">																	
																			<md-select ng-model="readCollateTagMap[$index]" name="collateMapTag" placeholder="{{readCollateTagMap[$index]}}" ng-change="collateMappingTag($index)">
																					<md-option value="null">选择标签</md-option>
																					<md-option value="{{targetMap.tag}}" ng-repeat="targetMap in collateTargetMapTable">{{targetMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		</td>
																		<td><label ng-if="collateSourceMapTable[$index].tag && (collateErrorMap.get($index) === 'True' || collateErrorMap.get($index) === 'true')"><i class="material-icons dsicon-true">已完成</i></label>
																		<label ng-if="collateSourceMapTable[$index].tag && (collateErrorMap.get($index) === 'False' || collateErrorMap.get($index) === 'false' || collateErrorMap.get($index) === undefined || collateErrorMap.get($index) === null)"><i class="material-icons dsicon-false">关闭</i></label>
																		</td>
																		<td>{{target.tag}}</td>
																		<td>{{target.name}}</td>
																		<td>{{target.type}}</td>
																		<td>{{target.role}}</td>
																	</tr>
																</tbody>
														
															</table>
														</div>	
											</div>
																																				
										</div>									
										</div>
									</md-dialog-content>
									<md-dialog-actions>
										<div class="dialog-footer-container1">
											<md-button ng-click="closeMappingCollatorPopup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
												取消
											</md-button>
											<md-button type="submit" ng-click="collateMappingsSave()" class="mdl-button mdl-js-button btn-primary" title="Confirm" ng-disabled="collateSourceTargetTable.$invalid">
												已完成
											</md-button>
									    </div>
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
					<!-- Mapping Table for Collator end -->
					
					<!-- Mapping Table for Splitter start -->
						<div class="md-dialog-container" id="myDialogSplitterMap" style="height:0;">
							  <md-dialog aria-label="Mango (Fruit)" class="ds-mapping-tables-dialog">
								  <form name="splitSourceTargetTable" ng-cloak>
									<md-toolbar>
									  <div class="md-toolbar-tools">
										<h2>分割映射表</h2>
										<span flex></span>
										<md-button class="md-icon-button" ng-click="closeMappingPopup()" title="Close">
										  <i class="material-icons">关闭</i>
										</md-button>
									  </div>
									</md-toolbar>
									<md-dialog-content>
										<div class="md-dialog-content">
											<div class="dsmt-container">
												<div class="dsmt-cell">
														<div class="dsmt-chitable">
															<table class="mdl-data-table ds-table1" cellpadding="0" cellspacing="0" >
																<thead>
																	<tr>
																		<th colspan="4"><span>源消息</span></th>
																		<th colspan="2"><span>映射区域</span></th>
																		<th colspan="5"><span>目标消息</span></th>
																	</tr>
																	<tr>
																		<th><span>参数名</span></th>
																		<th><span>参数种类名</span></th>
																		<th><span>参数身份</span></th>
																		<th><span>参数标签 #</span></th>
																		<th><span>源标签映射 - 从源区域拷贝到目标区域</span></th>
																		<th><span>错误验证者</span></th>
																		<th><span>参数标签 #</span></th>
																		<th><span>参数名</span></th>
																		<th><span>参数种类</span></th>
																		<th><span>参数身份</span></th>
																		<th><span>目标模型名称</span></th>
																	</tr>
																</thead>
																<tbody>
																	<tr ng-if="splitSourceMapTable.length >= splitTargetMapTable.length" ng-repeat="source in splitSourceMapTable">
																		<td>{{source.name}}</td>
																		<td>{{source.type}}</td>
																		<td>{{source.role}}</td>
																		<td>{{source.tag}}</td>
																		<td>
																		<div ng-if="!readSolution && splitTargetMapTable[$index].tag" class="select-control">																	
																			<md-select ng-model="splitMapTag" name="splitMapTag" placeholder="Select Tag" ng-change="splitMappingTag($index)">
																					<md-option value="null">Select Tag</md-option>
																					<md-option value="{{sourceMap.tag}}" ng-repeat="sourceMap in splitSourceMapTable">{{sourceMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		<div ng-if="readSolution && splitTargetMapTable[$index].tag" class="select-control">																	
																			<md-select ng-model="readSplitTagMap[$index]" name="splitMapTag" placeholder="{{readSplitTagMap[$index]}}" ng-change="splitMappingTag($index)">
																					<md-option value="null">Select Tag选择标签</md-option>
																					<md-option value="{{sourceMap.tag}}" ng-repeat="sourceMap in splitSourceMapTable">{{sourceMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		</td>
																		<td>
																		<label ng-if="splitTargetMapTable[$index].tag && (splitErrorMap.get($index) === 'True' || splitErrorMap.get($index) === 'true')"><i class="material-icons dsicon-true">已完成</i></label>
																		<label ng-if="splitTargetMapTable[$index].tag && (splitErrorMap.get($index) === undefined || splitErrorMap.get($index) === 'false' || splitErrorMap.get($index) === 'False' || splitErrorMap.get($index) === null"><i class="material-icons dsicon-false">关闭</i></label>
																		</td>
																		<td>{{splitTargetMapTable[$index].tag}}</td>
																		<td>{{splitTargetMapTable[$index].name}}</td>
																		<td>{{splitTargetMapTable[$index].type}}</td>
																		<td>{{splitTargetMapTable[$index].role}}</td>
																		<td>{{splitTargetMapTable[$index].modelName}}</td>
																	</tr>
																	<tr ng-if="splitSourceMapTable.length < splitTargetMapTable.length" ng-repeat="target in splitTargetMapTable">
																		<td>{{splitSourceMapTable[$index].name}}</td>
																		<td>{{splitSourceMapTable[$index].type}}</td>
																		<td>{{splitSourceMapTable[$index].role}}</td>
																		<td>{{splitSourceMapTable[$index].tag}}</td>
																		<td>
																		<div ng-if="!readSolution" class="select-control">																	
																			<md-select ng-model="splitMapTag" name="splitMapTag" placeholder="Select Tag" ng-change="splitMappingTag($index)">
																					<md-option value="null">选择标签</md-option>
																					<md-option value="{{sourceMap.tag}}" ng-repeat="sourceMap in splitSourceMapTable">{{sourceMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		<div ng-if="readSolution" class="select-control">																	
																			<md-select ng-model="readSplitTagMap[$index]" name="splitMapTag" placeholder="{{readSplitTagMap[$index]}}" ng-change="splitMappingTag($index)">
																					<md-option value="null">选择标签</md-option>
																					<md-option value="{{sourceMap.tag}}" ng-repeat="sourceMap in splitSourceMapTable">{{sourceMap.tag}}</md-option>	
																			</md-select>
																		</div>
																		</td>
																		<td><label ng-if="splitErrorMap.get($index) === 'True' || splitErrorMap.get($index) === 'true'"><i class="material-icons dsicon-true">已完成</i></label>
																		 <label ng-if="splitErrorMap.get($index) === undefined || splitErrorMap.get($index) === 'False' || splitErrorMap.get($index) === 'false' || splitErrorMap.get($index) === null"><i class="material-icons dsicon-false">关闭</i></label>
																		 </td>
																		<td>{{target.tag}}</td>
																		<td>{{target.name}}</td>
																		<td>{{target.type}}</td>
																		<td>{{target.role}}</td>
																		<td>{{target.modelName}}</td>
																	</tr>
																</tbody>
																
															</table>
														</div>	
											</div>
																																				
										</div>									
										</div>
									</md-dialog-content>
									<md-dialog-actions>
										<div class="dialog-footer-container1">
											<md-button ng-click="closeMappingSplitterPopup()" class="mdl-button mdl-js-button btn-secondary" title="Cancel">
												Cancel
											</md-button>
											<md-button type="submit" ng-click="splitMappingsSave()" class="mdl-button mdl-js-button btn-primary" title="Confirm" ng-disabled="splitSourceTargetTable.$invalid">
												Done
											</md-button>
									    </div>
									</md-dialog-actions>
								  </form>
								</md-dialog>
							</div>
					<!-- Mapping Table for Splitter end -->
</div>
	
